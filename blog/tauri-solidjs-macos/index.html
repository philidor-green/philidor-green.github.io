<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>Try Tauri</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="theme-color" content="#4B6587"><meta data-n-head="ssr" property="og:title" content="Try Tauri"><meta data-n-head="ssr" property="og:description" content="In this article, we’ll explore Tauri and use it for a simple Webview app."><meta data-n-head="ssr" property="og:image" content="https://philidor.dev/image.jpg"><link data-n-head="ssr" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link data-n-head="ssr" rel="manifest" href="/site.webmanifest"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" href="/_nuxt/40c199b.js" as="script"><link rel="preload" href="/_nuxt/339e023.js" as="script"><link rel="preload" href="/_nuxt/css/d194fe5.css" as="style"><link rel="preload" href="/_nuxt/b820847.js" as="script"><link rel="preload" href="/_nuxt/css/c2d66e2.css" as="style"><link rel="preload" href="/_nuxt/7a757dd.js" as="script"><link rel="preload" href="/_nuxt/css/449ff54.css" as="style"><link rel="preload" href="/_nuxt/99f074f.js" as="script"><link rel="stylesheet" href="/_nuxt/css/d194fe5.css"><link rel="stylesheet" href="/_nuxt/css/c2d66e2.css"><link rel="stylesheet" href="/_nuxt/css/449ff54.css"><link rel="preload" href="/_nuxt/static/1670571071/blog/tauri-solidjs-macos/state.js" as="script"><link rel="preload" href="/_nuxt/static/1670571071/blog/tauri-solidjs-macos/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1670571071/manifest.js" as="script">
  </head>
  <body>
    <script data-n-head="ssr" data-hid="nuxt-color-mode-script" data-pbody="true">!function(){"use strict";var t=window,e=document,s=e.documentElement,a=["dark","light"],o=window.localStorage.getItem("nuxt-color-mode")||"system",c="system"===o?n():o,e=e.body.getAttribute("data-color-mode-forced");function r(e){e+="-mode";s.classList?s.classList.add(e):s.className+=" "+e}function l(e){return t.matchMedia("(prefers-color-scheme"+e+")")}function n(){if(t.matchMedia&&"not all"!==l("").media)for(var e of a)if(l(":"+e).matches)return e;return"light"}r(c=e?e:c),t.__NUXT_COLOR_MODE__={preference:o,value:c,getColorScheme:n,addClass:r,removeClass:function(e){e+="-mode";s.classList?s.classList.remove(e):s.className=s.className.replace(new RegExp(e,"g"),"")}}}()</script><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="pt-10 pt-15 sm:pt-20 lg:pt-20 md:pt-20 xl:pt-20"><div class="flex flex-col w-full"><div class="top-0 fixed w-full z-10 bg-header shadow-md"><div class="container mx-auto px-5"><div class="flex items-center py-2"><div class="w-1/2 text-white"><a href="/" class="nuxt-link-active">philidor.dev</a></div><div class="flex flex-row justify-end w-1/2"><div class="m-1 w-1/12"><a target="_blank" title="Hello!" href="#"><img src="/_nuxt/img/avatar.e680aeb.png" class="object-contain h-15 w-20"></a></div><div class="m-1 w-1/12"><a target="_blank" href="https://github.com/philidor-green"><img src="/_nuxt/img/github.c245266.svg" class="object-contain h-15 w-20"></a></div><div class="m-1 w-1/12"><a target="_blank" href="https://stackoverflow.com/users/2057388/%D0%97%D0%B5%D0%BB%D1%91%D0%BD%D1%8B%D0%B9?tab=profile"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2U3ZTdkZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIHRleHQtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgdmlld0JveD0iMCAwIDY0MCA2NDAiPjxwYXRoIGQ9Ik02NDAgNDAwLjAwOVY2NDBIMFY0MDAuMDA5aDc5Ljk5N3YxNTkuOTk0aDQ4MC4wMDZWNDAwLjAwOUg2NDB6bS01MTkuOTk5IDQwLjAwNGgzOTkuOTk3djc5Ljk5N0wxMjAuMDAxIDUyMHYtNzkuOTg2em05LjQ4NC04Ni42MjNsMTcuMzE2LTc4LjEwNyAzOTAuNTI0IDg2LjU2NC0xNy4zMjcgNzguMTItMzkwLjUxMy04Ni41Nzd6bTQ1LjMyLTE2MC41NDlsMzMuODAzLTcyLjUyIDM2Mi41MiAxNjkuMDMtMzMuODAzIDcyLjUzMi0zNjIuNTItMTY5LjA0em00NDUuMDMzIDMzLjA4M2wtNDguNzIxIDYzLjQ3NEwyNTMuNzUgNDUuODc1IDI4OC45NDggMGgzNi40MTRsMjk0LjQ3NiAyMjUuOTI0eiIvPjwvc3ZnPgo=" class="object-contain h-15 w-20"></a></div><div class="m-1 w-1/12"><a target="_blank" href="https://twitter.com/shindu666"><img src="/_nuxt/img/twitter.8e3028d.svg" class="object-contain h-15 w-20"></a></div><div class="m-1 w-1/12"><a target="_blank" href="https://t.me/philidor_green"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNlN2U3ZGUiIHZpZXdCb3g9IjAgMCAzMzMzMzQgMzMzMzM0IiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTY2NjY3IDBjOTIwNDggMCAxNjY2NjcgNzQ2MTkgMTY2NjY3IDE2NjY2N3MtNzQ2MTkgMTY2NjY3LTE2NjY2NyAxNjY2NjdTMCAyNTg3MTUgMCAxNjY2NjcgNzQ2MTkgMCAxNjY2NjcgMHptODAyMTkgOTEyMDVsLTI5NzM1IDE0OTkxOXMtNDE1OCAxMDM5Ni0xNTU5NCA1NDA0bC02ODQxMC01Mzg1NHM3NjEwNC02ODQwOSA3OTIyMi03MTMyMGMzMTE5LTI5MTEgMjA3OS0zNTM0IDIwNzktMzUzNCAyMDctMzUzNS01NjE0IDAtNTYxNCAwbC0xMDA4NDYgNjQwNDMtNDIwMDItMTQxNDBzLTY0NDYtMjI4OC03MDY5LTcyNzdjLTYyNC00OTkyIDcyNzctNzY5NCA3Mjc3LTc2OTRsMTY2OTcwLTY1NDk4czEzNzIyLTYwMzAgMTM3MjIgMzk1MXptLTg3NjM3IDEyMjg4OWwtMjcxNDEgMjQ3NDVzLTIxMjIgMTYwOS00NDQzIDYwMWw1MTk3LTQ1OTY1IDI2Mzg3IDIwNjE5eiIvPjwvc3ZnPgo="></a></div><div class="m-1 w-1/12"><a target="_blank" href="https://www.linkedin.com/in/roman-kiselenko-583534201/"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2U3ZTdkZSIgdmlld0JveD0iMCAwIDMzMzMgMzMzMyIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIHRleHQtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTE2NjcgMGM5MjAgMCAxNjY3IDc0NiAxNjY3IDE2NjcgMCA5MjAtNzQ2IDE2NjctMTY2NyAxNjY3Qzc0NyAzMzM0IDAgMjU4OCAwIDE2NjcgMCA3NDcgNzQ2IDAgMTY2NyAwem0tMjE1IDEzMzZoMzQydjE3NWg1YzQ4LTg2IDE2NC0xNzUgMzM4LTE3NSAzNjEgMCA0MjggMjI1IDQyOCA1MTd2NTk2aC0zNTd2LTUyOGMwLTEyNi0zLTI4OC0xODYtMjg4LTE4NiAwLTIxNCAxMzctMjE0IDI3OXY1MzdoLTM1N1YxMzM2em0tMjQ3LTMwOWMwIDEwMi04MyAxODYtMTg2IDE4Ni0xMDIgMC0xODYtODMtMTg2LTE4NiAwLTEwMiA4My0xODYgMTg2LTE4NiAxMDIgMCAxODYgODMgMTg2IDE4NnptLTM3MSAzMDloMzcxdjExMTNIODM0VjEzMzZ6Ii8+PC9zdmc+Cg==" class="object-contain h-15 w-20"></a></div></div></div></div></div><div class="container mx-auto px-5"><article class="container"><div class="nuxt-content"><h1 id="what-is-tauri"><a href="#what-is-tauri" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>What is Tauri?</h1>
<blockquote>
<p>Tauri is a polyglot and generic toolkit that is very composable and allows engineers to make a wide variety of applications.  It is used for building applications for desktop computers using a combination of Rust tools and HTML rendered in a Webview.</p>
</blockquote>
<p>Sounds interesting and I decided to try to make a simple application for tracking cryptocurrency tickers from Binance exchange.</p>
<h1 id="setup"><a href="#setup" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Setup</h1>
<p>The first step is to install and create an application template.
We need <a href="https://www.rust-lang.org/tools/install" rel="nofollow noopener noreferrer" target="_blank">rust</a> and <code>cargo</code> in order to generate our application scaffold (there are many other options for generation but since I'm starting to learn <code>rust</code> I will stick with it.)</p>
<p>The easiest way to scaffold a new project is the <code>create-tauri-app</code> utility.</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-shell"><code><span class="token function">cargo</span> <span class="token function">install</span> create-tauri-app
<span class="token function">cargo</span> create-tauri-app 
✔ Project name · mycryptobar
? Choose your package manager ›
  <span class="token function">cargo</span>
❯ <span class="token function">pnpm</span>
  <span class="token function">yarn</span>
  <span class="token function">npm</span>
</code></pre></div>
<p>On this step generator asking us about prefer package manager for our frontend, there are two options:</p>
<ul>
<li>for handling frontend with <code>rust</code> trough <a href="https://yew.rs/" rel="nofollow noopener noreferrer" target="_blank">yew</a>, chose <code>cargo</code></li>
<li>for handle frontend with <code>js</code> trough any modern js framework like <code>vue</code>, <code>svelte</code>, <code>react</code> and so on choose <code>pnpm</code>, <code>yarn</code>, <code>npm</code>.</li>
</ul>
<p>In my example I'll use <code>pnpm</code> as package manager, <a href="https://www.solidjs.com/" rel="nofollow noopener noreferrer" target="_blank">solidjs</a> and <a href="https://tailwindcss.com/" rel="nofollow noopener noreferrer" target="_blank">tailwind framework</a>.</p>
<h1 id="scaffold"><a href="#scaffold" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Scaffold</h1>
<p>Generator create an application scaffold for us, there are two part <code>frontend</code> in our root folder and <code>backend</code> in <code>src-tauri</code> folder.
We will create system tray application and we need enable it in the <code>src-tauri/Cargo.toml</code>:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-git"><code>diff --git a/src-tauri/Cargo.toml b/src-tauri/Cargo.toml
index f05fce3..6434503 100644
<span class="token deleted">--- a/src-tauri/Cargo.toml</span>
<span class="token inserted">+++ b/src-tauri/Cargo.toml</span>
@@ -16,6 +16,7 @@ tauri-build = {version = <span class="token string">"1.2"</span>, features = [] }
 [dependencies]
 serde_json = <span class="token string">"1.0"</span>
 serde = { version = <span class="token string">"1.0"</span>, features = [<span class="token string">"derive"</span>] }
<span class="token inserted">+tauri = { version = "1.2.1", features = ["http-request", "icon-png", "system-tray"] }</span>
 
 [features]
 # by default Tauri runs in production mode
</code></pre></div>
<p>Add tray configuration to <code>src-tauri/tauri.conf.json</code>:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-git"><code>diff --git a/src-tauri/src/main.rs b/src-tauri/src/main.rs
index e27813a..af057f4 100644
<span class="token deleted">--- a/src-tauri/src/main.rs</span>
<span class="token inserted">+++ b/src-tauri/src/main.rs</span>
<span class="token coord">@@ -3,6 +3,9 @@</span>
     windows_subsystem = <span class="token string">"windows"</span>
 )]
 
<span class="token inserted">+use tauri::SystemTray;</span>
<span class="token inserted">+use tauri::{CustomMenuItem, SystemTrayMenu, SystemTrayMenuItem};</span>
<span class="token inserted">+</span>
 // Learn more about Tauri commands at https://tauri.app/v1/guides/features/command
 #[tauri::command]
 fn greet(name: &str) -> String {
@@ -10,7 +13,17 @@ fn greet(name: &str) -> String {
 }
 
 fn main() {
<span class="token inserted">+    let quit = CustomMenuItem::new("quit".to_string(), "Quit");</span>
<span class="token inserted">+    let hide = CustomMenuItem::new("hide".to_string(), "Hide");</span>
<span class="token inserted">+    let tray_menu = SystemTrayMenu::new()</span>
<span class="token inserted">+        .add_item(quit)</span>
<span class="token inserted">+        .add_native_item(SystemTrayMenuItem::Separator)</span>
<span class="token inserted">+        .add_item(hide);</span>
<span class="token inserted">+</span>
<span class="token inserted">+    let system_tray = SystemTray::new()</span>
<span class="token inserted">+    .with_menu(tray_menu);</span>
     tauri::Builder::default()
<span class="token inserted">+        .system_tray(system_tray)</span>
         .invoke_handler(tauri::generate_handler![greet])
         .run(tauri::generate_context!())
         .expect(<span class="token string">"error while running tauri application"</span>);
diff --git a/src-tauri/tauri.conf.json b/src-tauri/tauri.conf.json
index eaac219..0dbc746 100644
<span class="token deleted">--- a/src-tauri/tauri.conf.json</span>
<span class="token inserted">+++ b/src-tauri/tauri.conf.json</span>
<span class="token coord">@@ -52,6 +52,10 @@</span>
     },
     <span class="token string">"updater"</span>: {
       <span class="token string">"active"</span>: false
<span class="token inserted">+    },</span>
<span class="token inserted">+     "systemTray": {</span>
<span class="token inserted">+      "iconPath": "icons/icon.png",</span>
<span class="token inserted">+      "iconAsTemplate": true</span>
     },
     <span class="token string">"windows"</span>: [
</code></pre></div>
<p>Now lets test it, run <code>cargo tauri dev</code>:</p>
<img src="/posts/tauri-tray.png" alt="drawing" width="600">
<h1 id="frontend"><a href="#frontend" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Frontend</h1>
<p>Lets add some frontend code, first part with styles.
Install and generate tailwind our css framework:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code><span class="token function">pnpm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> tailwindcss postcss autoprefixer
<span class="token function">pnpm</span> tailwindcss init <span class="token parameter variable">-p</span>
<span class="token function">cat</span> tailwind.config.js
/** @type <span class="token punctuation">{</span>import<span class="token punctuation">(</span><span class="token string">'tailwindcss'</span><span class="token punctuation">)</span>.Config<span class="token punctuation">}</span> */
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  content: <span class="token punctuation">[</span>
    <span class="token string">"./index.html"</span>,
    <span class="token string">"./src/**/*.{js,ts,jsx,tsx}"</span>,
  <span class="token punctuation">]</span>,
  theme: <span class="token punctuation">{</span>
    extend: <span class="token punctuation">{</span><span class="token punctuation">}</span>,
  <span class="token punctuation">}</span>,
  plugins: <span class="token punctuation">[</span><span class="token punctuation">]</span>,
<span class="token punctuation">}</span>
</code></pre></div>
<p>A little bit css code for tailwind components <code>src/style.css</code>:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-css"><code><span class="token atrule"><span class="token rule">@tailwind</span> base<span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@tailwind</span> components<span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@tailwind</span> utilities<span class="token punctuation">;</span></span>
</code></pre></div>
<p>Next step add solidjs code for out frontend, in <code>src/App.jsx</code>, in this code we create a simple table component to render the response from binance exchange:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-js"><code><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> invoke <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"@tauri-apps/api/tauri"</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">Item</span></span> <span class="token keyword module">from</span> <span class="token string">"./Item"</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> createSignal<span class="token punctuation">,</span> createEffect <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"solid-js"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> timeTicker <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">createSignal</span><span class="token punctuation">(</span>timeTicker<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>items<span class="token punctuation">,</span> setItems<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">createSignal</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">createEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">"get_binance_ticker"</span><span class="token punctuation">)</span>
        <span class="token function">setItems</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">equals</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token function">setCount</span><span class="token punctuation">(</span>timeTicker<span class="token punctuation">)</span>
        <span class="token keyword control-flow">return</span>
      <span class="token punctuation">}</span>
      <span class="token function">setCount</span><span class="token punctuation">(</span>c <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"grid grid-rows-2 grid-flow-row font-source h-screen bg-background p-1"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"font-light"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"grid grid-cols-4 gap-4 h-4 content-center text-xs  text-slate-400"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col-span-2"</span><span class="token operator">></span><span class="token maybe-class-name">Pair</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"ml-auto"</span><span class="token operator">></span><span class="token maybe-class-name">Price</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"ml-auto"</span><span class="token operator">></span>24h<span class="token operator">%</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">For</span> each<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">items</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
          <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Item</span> symbol<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span><span class="token property-access">symbol</span><span class="token punctuation">}</span> priceChangePercent<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span><span class="token property-access">change</span><span class="token punctuation">}</span> lastPrice<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span><span class="token property-access">price</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">For</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"text-xs font-light text-slate-400"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"text-xs font-light text-slate-400 ml-auto"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col-span-2"</span><span class="token operator">></span><span class="token maybe-class-name">Updating</span> <span class="token keyword">in</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token maybe-class-name">App</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Create a table item component <code>src/Item.jsx</code></p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-js"><code><span class="token keyword">const</span> buttonClass <span class="token operator">=</span> <span class="token string">"text-white font-bold uppercase shadow hover:shadow-md outline-none focus:outline-none ease-linear transition-all duration-150 px-2"</span>
<span class="token keyword">const</span> greenButton <span class="token operator">=</span> <span class="token string">"bg-green-500 "</span>
<span class="token keyword">const</span> redButton <span class="token operator">=</span> <span class="token string">"bg-red-500 "</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Item</span></span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"grid grid-cols-4 gap-4 text-base h-6 content-center text-slate-700"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col-span-2"</span><span class="token operator">></span><span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">symbol</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"ml-auto"</span><span class="token operator">></span><span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">lastPrice</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"ml-auto"</span><span class="token operator">></span><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token property-access">priceChangePercent</span><span class="token punctuation">.</span><span class="token method function property-access">startsWith</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span> <span class="token operator">?</span> redButton <span class="token operator">:</span> greenButton<span class="token punctuation">)</span> <span class="token operator">+</span> buttonClass<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">priceChangePercent</span><span class="token punctuation">}</span><span class="token operator">%</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">}</span>
</code></pre></div>
<h1 id="backend"><a href="#backend" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Backend</h1>
<p>Now the magic part is to call our <code>rust</code> backend and fetch the prices from exchange, tauri provide <a href="https://tauri.app/v1/guides/features/command" rel="nofollow noopener noreferrer" target="_blank">a helper function</a> for this case <code>invoke</code>, install that helper:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-shell"><code><span class="token function">pnpm</span> <span class="token function">add</span> @tauri-apps/api
</code></pre></div>
<p>Add to our frontend code <code>src/App.jsx</code>:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-js"><code><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> invoke <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"@tauri-apps/api/tauri"</span><span class="token punctuation">;</span>
<span class="token comment">// some code here</span>
<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">"get_binance_ticker"</span><span class="token punctuation">)</span>
<span class="token comment">// some code here</span>
</code></pre></div>
<p>And the <code>rust</code> part, firstly add library to make http calls <code>src-tauri/Cargo.toml</code>:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-yaml"><code><span class="token punctuation">...</span>
reqwest = <span class="token punctuation">{</span> version = "0.11.13"<span class="token punctuation">,</span> features = <span class="token punctuation">[</span><span class="token string">"blocking"</span><span class="token punctuation">,</span> <span class="token string">"json"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token punctuation">...</span>
</code></pre></div>
<p>Next add to <code>rust</code> code a tauri command <code>get_binance_ticker</code> which returns the response from binance exchange, in our frontend code we have <code>invoke("get_binance_ticker")</code> function call.</p>
<p><code>src-tauri/src/main.rs</code>:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token attribute attr-name">#![cfg_attr(
    all(not(debug_assertions), target_os = <span class="token string">"windows"</span>),
    windows_subsystem = <span class="token string">"windows"</span>
)]</span>
<span class="token keyword">use</span> <span class="token namespace">reqwest<span class="token punctuation">::</span></span><span class="token class-name">Url</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">serde<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token class-name">Deserialize</span><span class="token punctuation">,</span> <span class="token class-name">Serialize</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">tauri<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token class-name">CustomMenuItem</span><span class="token punctuation">,</span> <span class="token class-name">Manager</span><span class="token punctuation">,</span> <span class="token class-name">SystemTray</span><span class="token punctuation">,</span> <span class="token class-name">SystemTrayEvent</span><span class="token punctuation">,</span> <span class="token class-name">SystemTrayMenu</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token attribute attr-name">#[derive(Serialize, Deserialize, Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">ApiResponse</span> <span class="token punctuation">{</span>
    symbol<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    <span class="token attribute attr-name">#[serde(rename(deserialize = <span class="token string">"lastPrice"</span>))]</span>
    price<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    <span class="token attribute attr-name">#[serde(rename(deserialize = <span class="token string">"priceChangePercent"</span>))]</span>
    change<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token attribute attr-name">#[tauri::command]</span>
<span class="token keyword">fn</span> <span class="token function-definition function">get_binance_ticker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">ApiResponse</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">"https://api.binance.com/api/v1/ticker/24hr?symbols=[%22BTCUSDT%22,%22BNBUSDT%22,%22ETHUSDT%22,%22XRPUSDT%22,%22DOGEUSDT%22,%22SHIBUSDT%22]"</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token class-name">Url</span><span class="token punctuation">::</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token operator">&</span><span class="token operator">*</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token namespace">reqwest<span class="token punctuation">::</span>blocking<span class="token punctuation">::</span></span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> items<span class="token punctuation">:</span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">ApiResponse</span><span class="token operator">></span> <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{:?}"</span><span class="token punctuation">,</span> items<span class="token punctuation">)</span><span class="token punctuation">;</span>
    items
<span class="token punctuation">}</span>

<span class="token attribute attr-name">#[tauri::command]</span>
<span class="token keyword">fn</span> <span class="token function-definition function">set_title</span><span class="token punctuation">(</span>app_handle<span class="token punctuation">:</span> <span class="token namespace">tauri<span class="token punctuation">::</span></span><span class="token class-name">AppHandle</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token operator">&</span><span class="token keyword">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token attribute attr-name">#[cfg(target_os = <span class="token string">"macos"</span>)]</span>
    app_handle<span class="token punctuation">.</span><span class="token function">tray_handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set_title</span><span class="token punctuation">(</span><span class="token operator">&</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">create_tray</span><span class="token punctuation">(</span>app<span class="token punctuation">:</span> <span class="token operator">&</span><span class="token namespace">tauri<span class="token punctuation">::</span></span><span class="token class-name">App</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token namespace">tauri<span class="token punctuation">::</span></span><span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> tray_menu <span class="token operator">=</span> <span class="token class-name">SystemTrayMenu</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">add_item</span><span class="token punctuation">(</span><span class="token class-name">CustomMenuItem</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"clear_title"</span><span class="token punctuation">,</span> <span class="token string">"Clear Title"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">add_item</span><span class="token punctuation">(</span><span class="token class-name">CustomMenuItem</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"set_title"</span><span class="token punctuation">,</span> <span class="token string">"Set Title"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">add_item</span><span class="token punctuation">(</span><span class="token class-name">CustomMenuItem</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"quit"</span><span class="token punctuation">,</span> <span class="token string">"Quit"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> handle <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> tray_id <span class="token operator">=</span> <span class="token string">"cryptobar-tray"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SystemTray</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">with_id</span><span class="token punctuation">(</span><span class="token operator">&</span>tray_id<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">with_menu</span><span class="token punctuation">(</span>tray_menu<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">on_event</span><span class="token punctuation">(</span><span class="token keyword">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>event<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> tray_handle <span class="token operator">=</span> handle<span class="token punctuation">.</span><span class="token function">tray_handle_by_id</span><span class="token punctuation">(</span><span class="token operator">&</span>tray_id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">match</span> event <span class="token punctuation">{</span>
                <span class="token class-name">SystemTrayEvent</span><span class="token punctuation">::</span><span class="token class-name">LeftClick</span> <span class="token punctuation">{</span>
                    position<span class="token punctuation">:</span> _<span class="token punctuation">,</span>
                    size<span class="token punctuation">:</span> _<span class="token punctuation">,</span>
                    <span class="token punctuation">..</span>
                <span class="token punctuation">}</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"left click"</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">SystemTrayEvent</span><span class="token punctuation">::</span><span class="token class-name">MenuItemClick</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                    <span class="token comment">// let item_handle = tray_handle.get_item(&id);</span>
                    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"menu click"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">match</span> id<span class="token punctuation">.</span><span class="token function">as_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token string">"quit"</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                            <span class="token comment">// exit the app</span>
                            handle<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        <span class="token string">"clear_title"</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                            <span class="token attribute attr-name">#[cfg(target_os = <span class="token string">"macos"</span>)]</span>
                            tray_handle<span class="token punctuation">.</span><span class="token function">set_title</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        <span class="token string">"set_title"</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                            <span class="token attribute attr-name">#[cfg(target_os = <span class="token string">"macos"</span>)]</span>
                            tray_handle<span class="token punctuation">.</span><span class="token function">set_title</span><span class="token punctuation">(</span><span class="token string">"Tauri"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        _ <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                _ <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>_<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token namespace">tauri<span class="token punctuation">::</span></span><span class="token class-name">Builder</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>app<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span>
            <span class="token function">create_tray</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
            <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">on_system_tray_event</span><span class="token punctuation">(</span><span class="token keyword">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>app<span class="token punctuation">,</span> event<span class="token closure-punctuation punctuation">|</span></span> <span class="token keyword">match</span> event <span class="token punctuation">{</span>
            <span class="token class-name">SystemTrayEvent</span><span class="token punctuation">::</span><span class="token class-name">LeftClick</span> <span class="token punctuation">{</span> position<span class="token punctuation">,</span> size<span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> w <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">get_window</span><span class="token punctuation">(</span><span class="token string">"main"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> visible <span class="token operator">=</span> w<span class="token punctuation">.</span><span class="token function">is_visible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> visible <span class="token punctuation">{</span>
                    w<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    w<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    w<span class="token punctuation">.</span><span class="token function">set_focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            _ <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">on_window_event</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>event<span class="token closure-punctuation punctuation">|</span></span> <span class="token keyword">match</span> event<span class="token punctuation">.</span><span class="token function">event</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token namespace">tauri<span class="token punctuation">::</span></span><span class="token class-name">WindowEvent</span><span class="token punctuation">::</span><span class="token class-name">CloseRequested</span> <span class="token punctuation">{</span> api<span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token comment">// don't kill the app when the user clicks close. this is important</span>
                <span class="token comment">// event.window().hide().unwrap();</span>
                <span class="token comment">// api.prevent_close();</span>
            <span class="token punctuation">}</span>
            <span class="token namespace">tauri<span class="token punctuation">::</span></span><span class="token class-name">WindowEvent</span><span class="token punctuation">::</span><span class="token class-name">Focused</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token comment">// hide the window automatically when the user</span>
                <span class="token comment">// clicks out. this is for a matter of taste.</span>
                <span class="token comment">// event.window().hide().unwrap();</span>
            <span class="token punctuation">}</span>
            _ <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">invoke_handler</span><span class="token punctuation">(</span><span class="token namespace">tauri<span class="token punctuation">::</span></span><span class="token macro property">generate_handler!</span><span class="token punctuation">[</span>set_title<span class="token punctuation">,</span> get_binance_ticker<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token namespace">tauri<span class="token punctuation">::</span></span><span class="token macro property">generate_context!</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">"error while running tauri application"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<h1 id="overview"><a href="#overview" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Overview</h1>
<p>If all steps above was successfull now we have a very basic GUI application build with <code>tauri</code>.</p>
<img src="/posts/tauri-tray-2.png" alt="drawing" width="600">
<p>You can play with tray functionalities, create <a href="https://tauri.app/v1/guides/features/multiwindow" rel="nofollow noopener noreferrer" target="_blank">multiwindow application</a> and ship it <a href="https://tauri.app/v1/guides/building/" rel="nofollow noopener noreferrer" target="_blank">for many platforms</a>.</p>
<p>Happy coding!</p>
<p>You can find the source code <a href="https://github.com/philidor-green/playwithtauri" rel="nofollow noopener noreferrer" target="_blank">here</a></p>
<p>Thanks.</p></div><!----><ul class="list-disc text-xs text-lightslategray-200"></ul></article><div class="flex flex-col items-center py-4 text-xs text-lightslategray-400"><div class="flex"><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">All the content on this site is licensed under  CC (BY-NC-SA)</a></div><div class="flex"><a target="_blank" href="https://content.nuxtjs.org/"><svg xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 1360 200" class="h-4 dark-img"><g fill="none" fill-rule="evenodd"><path d="M752.09356 137.76c-1.4858 1.49334-3.2966 2.24-5.43244 2.24-2.13584 0-3.94663-.74666-5.43243-2.24-1.4858-1.49334-2.22869-3.31332-2.22869-5.46V49.7c0-2.14668.74289-3.96666 2.22869-5.46 1.4858-1.49334 3.2966-2.24 5.43243-2.24 2.13584 0 3.96985.74666 5.50208 2.24 1.53223 1.49334 2.29834 3.31332 2.29834 5.46v33.6h36.07692V49.7c0-2.14668.7429-3.96666 2.2287-5.46 1.4858-1.49334 3.29659-2.24 5.43242-2.24 2.13584 0 3.96985.74666 5.50208 2.24C805.2339 45.73334 806 47.55332 806 49.7v82.6c0 2.14668-.7661 3.96666-2.29834 5.46-1.53223 1.49334-3.36624 2.24-5.50208 2.24-2.13583 0-3.94663-.74666-5.43243-2.24-1.4858-1.49334-2.22869-3.31332-2.22869-5.46V98.7h-36.07692v33.6c0 2.14668-.78932 3.96666-2.36798 5.46zM713.76536 44.24C715.25513 45.73334 716 47.55332 716 49.7s-.76815 3.99-2.30447 5.53-3.32867 2.31-5.3771 2.31h-22.2067v74.76c0 2.14668-.74487 3.96666-2.23463 5.46-1.48977 1.49334-3.3054 2.24-5.44693 2.24-2.14154 0-3.95716-.74666-5.44693-2.24-1.48977-1.49334-2.23464-3.31332-2.23464-5.46V57.54h-22.06704c-2.14153 0-3.95716-.77-5.44692-2.31C641.74487 53.69 641 51.84668 641 49.7c0-2.14668.74487-3.96666 2.23464-5.46 1.48976-1.49334 3.30539-2.24 5.44692-2.24h59.63688c2.14153 0 3.95716.74666 5.44692 2.24zM606 49.7c0-2.14668.76876-3.96666 2.3063-5.46 1.53755-1.49334 3.4114-2.24 5.62163-2.24 2.21022 0 4.1081.74666 5.6937 2.24C621.20721 45.73334 622 47.55332 622 49.7v82.6c0 2.14668-.79278 3.96666-2.37838 5.46s-3.48347 2.24-5.6937 2.24c-2.21021 0-4.08407-.74666-5.62161-2.24C606.76876 136.26666 606 134.44668 606 132.3V49.7zM492.36045 138.59978l-1.1209.84013h-.14011c-.28023 0-.70057.14002-1.26102.42007h-.42034c-.28023.09335-.72392.14002-1.33108.14002s-1.05084-.04667-1.33107-.14002h-.42034c-.56046-.1867-.88738-.30338-.9808-.35006-.0934-.04667-.25687-.11668-.49039-.21003-.23352-.09335-.5838-.32671-1.05085-.7001h-.1401c-.37365-.28005-.74728-.6301-1.12091-1.05017-.37364-.42007-.65386-.72344-.84068-.91014v-.14002c-.09341-.09335-.21017-.30338-.35028-.6301-.14012-.32672-.25688-.53675-.35029-.6301l-34.46782-81.63262c-.74727-1.96031-.72392-3.9206.07006-5.8809.79398-1.96032 2.17174-3.31385 4.13333-4.06063 1.86819-.84014 3.8064-.86348 5.8147-.07001 2.0083.79345 3.38606 2.17032 4.13333 4.13063l27.46217 64.83003 18.07459-42.98665c1.30773-3.17384 3.71298-4.76074 7.21582-4.76074 3.50285 0 5.9548 1.5869 7.35594 4.76074l18.07459 42.98665 27.32205-64.83003c.84068-1.9603 2.2418-3.33718 4.2034-4.13063 1.96159-.79347 3.92315-.79347 5.88474 0 1.9616.79345 3.33936 2.19366 4.13334 4.20064.79398 2.007.77063 3.94394-.07006 5.8109l-34.3277 81.63262c-.18682.74679-.70056 1.49356-1.54125 2.24035 0 .09335-.0467.23337-.14011.42006-.37364.1867-.70056.42007-.9808.70011h-.1401l-1.26102.84013h-.14012c-.0934 0-.18681.02334-.28022.07001-.09341.04668-.42034.16336-.9808.35006h-.28022c-.28023.09335-.72392.14002-1.33108.14002-.60715 0-1.05084-.04667-1.33107-.14002h-.42034c-.56045-.1867-.88738-.30338-.98079-.35006-.0934-.04667-.25687-.09334-.4904-.14002-.23352-.04667-.5838-.30337-1.05084-.77012h-.14012c-.84068-.56009-1.44783-1.21351-1.82147-1.9603-.37363-.1867-.65386-.65343-.84068-1.40022l-18.35481-43.4067-18.35482 43.4067c-.0934.28005-.28022.7001-.56045 1.2602l-.98079.98015c0 .09335-.0467.23337-.14011.42006-.18682.09335-.46704.32672-.84068.70011h-.28023z" fill="#00C48D" fill-rule="nonzero"></path> <path d="M383.76536 44.24C385.25513 45.73334 386 47.55332 386 49.7s-.76815 3.99-2.30447 5.53-3.32867 2.31-5.3771 2.31h-22.2067v74.76c0 2.14668-.74487 3.96666-2.23464 5.46-1.48976 1.49334-3.30539 2.24-5.44692 2.24-2.14154 0-3.95716-.74666-5.44693-2.24-1.48977-1.49334-2.23464-3.31332-2.23464-5.46V57.54h-22.06704c-2.14153 0-3.95716-.77-5.44692-2.31C311.74487 53.69 311 51.84668 311 49.7c0-2.14668.74487-3.96666 2.23464-5.46 1.48976-1.49334 3.30539-2.24 5.44692-2.24h59.63688c2.14153 0 3.95716.74666 5.44692 2.24zM247.67735 140c-2.14037 0-3.955-.74666-5.44394-2.24C240.74446 136.26666 240 134.44668 240 132.3V49.7c0-2.14668.74446-3.96666 2.23341-5.46s3.30357-2.24 5.44394-2.24c2.14036 0 3.97825.74666 5.51373 2.24 1.53547 1.49334 2.3032 3.31332 2.3032 5.46v74.76h37.82837c2.0473 0 3.83867.77 5.37415 2.31 1.53547 1.54 2.3032 3.35999 2.3032 5.46s-.76773 3.92-2.3032 5.46c-1.53548 1.54-3.32684 2.31-5.37415 2.31h-45.6453zM197 49.7c0-2.14668.76876-3.96666 2.3063-5.46 1.53755-1.49334 3.4114-2.24 5.62163-2.24 2.21022 0 4.1081.74666 5.6937 2.24C212.2072 45.73334 213 47.55332 213 49.7v82.6c0 2.14668-.79279 3.96666-2.37838 5.46-1.5856 1.49334-3.48347 2.24-5.6937 2.24-2.21021 0-4.08407-.74666-5.62161-2.24C197.76876 136.26666 197 134.44668 197 132.3V49.7zM164 98.54c0 11.10672-3.9472 20.62663-11.8417 28.56-7.8945 7.93337-17.44717 11.9-28.6583 11.9s-20.7638-3.9433-28.6583-11.83C86.9472 119.2833 83 109.74006 83 98.54V48.7c0-2.14668.7474-3.96666 2.24221-5.46 1.49482-1.49334 3.3166-2.24 5.4654-2.24 2.1488 0 3.99394.74666 5.53547 2.24 1.54153 1.49334 2.31228 3.31332 2.31228 5.46v49.84c0 6.81337 2.42905 12.66998 7.2872 17.57 4.85816 4.90002 10.74391 7.35 17.65744 7.35 6.91353 0 12.79928-2.42664 17.65744-7.28 4.85815-4.85336 7.2872-10.7333 7.2872-17.64V48.7c0-2.14668.77075-3.96666 2.31228-5.46 1.54153-1.49334 3.38667-2.24 5.53547-2.24s3.97058.74666 5.4654 2.24C163.2526 44.73334 164 46.55332 164 48.7v49.84zM8.26 140l-.14-.14c-.09333 0-.23333.04667-.42.14-2.14668 0-3.96666-.74666-5.46-2.24C.74666 136.26666 0 134.44668 0 132.3V49.7c0-2.14668.74666-3.96666 2.24-5.46C3.73334 42.74666 5.55332 42 7.7 42h19.88c7.37337 0 13.64997 2.58997 18.83 7.77 5.18003 5.18003 7.77 11.0833 7.77 17.71 0 6.6267-1.77332 12.31998-5.32 17.08 4.29335 2.70668 7.72332 6.29998 10.29 10.78 2.56668 4.48002 3.85 9.3333 3.85 14.56 0 8.3067-2.91664 15.39997-8.75 21.28-5.83336 5.88003-12.9033 8.82-21.21 8.82H8.26zm7.28-82.46v22.4h12.04c3.08002 0 5.69332-1.11999 7.84-3.36s3.22-4.89998 3.22-7.98-1.07332-5.69332-3.22-7.84-4.75998-3.22-7.84-3.22H15.54zm0 37.94v28.98h17.5c4.01335-.09333 7.41999-1.53999 10.22-4.34 2.80001-2.80001 4.2-6.20665 4.2-10.22 0-4.01335-1.39999-7.39665-4.2-10.15-2.80001-2.75335-6.20665-4.17667-10.22-4.27h-17.5z" fill="#FFF" fill-rule="nonzero"></path> <g fill-rule="nonzero" transform="translate(865)"><path d="M105.41346 38.55829l-6.33111 11.13597-21.65186-38.0943-66.46753 116.92767h45.00297c0 6.15023 4.90828 11.13597 10.96296 11.13597H10.96296c-3.91631 0-7.5348-2.12357-9.49262-5.5689-1.95783-3.44535-1.95763-7.6899.00052-11.13505L67.9384 6.03198c1.9583-3.44565 5.57756-5.5683 9.49438-5.5683 3.91681 0 7.53608 2.12265 9.49438 5.5683l18.4863 32.52631z" fill="#00C58E"></path> <path d="M153.3947 122.95965l-41.65013-73.2654-6.33111-11.13596-6.33111 11.13597-41.64556 73.26539c-1.95816 3.44515-1.95836 7.6897-.00053 11.13504 1.95783 3.44534 5.57632 5.56891 9.49263 5.56891h76.96c3.91713 0 7.5371-2.12126 9.49605-5.5669 1.95895-3.44564 1.95918-7.69118.00062-11.13705h.00913zm-86.46581 5.56798l38.48457-67.6974 38.47543 67.6974h-76.96z" fill="#FFF"></path> <path d="M183.17284 134.09562c-1.95797 3.44482-5.57616 5.56798-9.4921 5.56798H143.8889c6.05468 0 10.96296-4.98574 10.96296-11.13597h18.80605l-53.36222-93.88085-8.55111 15.04748-6.33111-11.13597 5.39012-9.4795c1.9583-3.44565 5.57757-5.5683 9.49438-5.5683 3.91682 0 7.53609 2.12265 9.49439 5.5683l53.38049 93.88086c1.95834 3.44548 1.95834 7.69049 0 11.13597z" fill="#108775"></path></g></g></svg></a></div></div></div></div></div></div></div><script defer src="/_nuxt/static/1670571071/blog/tauri-solidjs-macos/state.js"></script><script src="/_nuxt/40c199b.js" defer></script><script src="/_nuxt/99f074f.js" defer></script><script src="/_nuxt/339e023.js" defer></script><script src="/_nuxt/b820847.js" defer></script><script src="/_nuxt/7a757dd.js" defer></script>
  </body>
</html>
